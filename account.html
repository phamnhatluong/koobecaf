<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Trang c√° Nh√¢n</title>
    <link rel="icon" href="https://ik.imagekit.io/mprhlnakz/image-11.png">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://getbootstrap.com/docs/5.3/assets/css/docs.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="account.css" />
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
    ></script>
    <style>
      body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background-color: #18191a;
    color: #e4e6eb;
  }
  .background-account {
    background: #242526;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
  }
      .w-100 {
        height: 500px;
      }
      .index-button {
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 60px;
        height: 60px;
        background-color: #ff9f00;
        color: white;
        border-radius: 50%;
        font-size: 24px;
        display: flex;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        transition: transform 0.2s ease;
      }
      .index-button:hover {
        transform: scale(1.1);
      }
    </style>
  </head>
  <body>
    <script>
      // Ki·ªÉm tra ƒëƒÉng nh·∫≠p tr∆∞·ªõc khi hi·ªÉn th·ªã n·ªôi dung
      const user = JSON.parse(localStorage.getItem("currentUser") || "{}");
      if (!user.email) {
        window.location.href = "login.html";
      }
    </script>
    <a href="index.html" class="index-button"> üí¨ </a>
    <button id="logoutBtn" style="position: fixed; top: 20px; right: 20px; z-index: 1001; background: #e53935; color: #fff; border: none; border-radius: 8px; padding: 10px 18px; font-weight: 600; box-shadow: 0 2px 8px rgba(24,119,242,0.10); cursor: pointer;">ƒêƒÉng xu·∫•t</button>
    <script>
      document.getElementById('logoutBtn').onclick = function() {
        localStorage.removeItem('currentUser');
        window.location.href = 'login.html';
      };
    </script>
<button id="toggleThemeBtn"
  style="position: fixed; top: 20px; left: 20px; z-index: 1001; background: #4a90e2; color: #fff; border: none; border-radius: 8px; padding: 10px 18px; font-weight: 600; box-shadow: 0 2px 8px rgba(0,0,0,0.2); cursor: pointer;">
  üåô Ch·∫ø ƒë·ªô t·ªëi
</button>

    <div class="repare">
      <div class="background-account">
        <button class="select-img" style="opacity: 0">ch·ªçn ·∫£nh c·ªßa b·∫°n</button>
        <img
          src="https://picsum.photos/200/300"
          alt="Random Image"
          class="background-img"
        />
        <input
          type="file"
          id="backgroundInput"
          accept="image/*"
          style="display: none"
        />
        <div class="img-main-account">
          <img
  src="https://i.pravatar.cc/100"
  userAvatar
  class="account-avatar"
  alt="avatar"
/>
<input type="file" id="avatarInput" accept="image/*" style="display: none" />


          <span id="welcomeaccount" style="margin: 0"></span>
        </div>
      </div>
    </div>
    <script>
      const currentUser = JSON.parse(
        localStorage.getItem("currentUser") || "{}"
      );
      if (currentUser.avatar) {
        document.querySelectorAll("[userAvatar]").forEach((el) => {
          el.src = currentUser.avatar;
        });
      }
      if (currentUser.username) {
        document.getElementById(
          "welcomeText"
        ).innerText = ` ${currentUser.username}`;
        const accText = document.getElementById("welcomeaccount");
        if (accText) accText.innerText = ` ${currentUser.username}`;
      }
    </script>
<script>
  const toggleThemeBtn = document.getElementById("toggleThemeBtn");
  const body = document.body;
  // √Åp d·ª•ng theme ƒë√£ l∆∞u
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme === "light") {
    body.classList.add("light-mode");
  }
  function updateThemeBtn() {
    if (body.classList.contains("light-mode")) {
      toggleThemeBtn.innerText = "üåû Ch·∫ø ƒë·ªô s√°ng";
    } else {
      toggleThemeBtn.innerText = "üåô Ch·∫ø ƒë·ªô t·ªëi";
    }
  }
  updateThemeBtn();
  toggleThemeBtn.onclick = () => {
    body.classList.toggle("light-mode");
    const isLight = body.classList.contains("light-mode");
    localStorage.setItem("theme", isLight ? "light" : "dark");
    updateThemeBtn();
  };
  // L·∫Øng nghe s·ª± ki·ªán thay ƒë·ªïi theme t·ª´ tab kh√°c
  window.addEventListener('storage', (e) => {
    if (e.key === 'theme') {
      if (e.newValue === 'light') {
        body.classList.add('light-mode');
      } else {
        body.classList.remove('light-mode');
      }
      updateThemeBtn();
    }
  });
</script>
<script src="theme.js" defer></script>
    <script type="module" src="account.js"></script>
  
  </body>
</html>
